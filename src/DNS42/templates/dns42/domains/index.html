{extends 'dns42/base.html'}
{block body}
<p>{trans 'List of .dn42 domains'}</p>
{amedia 'v4_icon', '/img/ipv4_icon.png'}{amedia 'v6_icon', '/img/ipv6_icon.png'}
<table class="explain"><tr><td class="td_good explain_b"></td><td> = {trans 'Ping response'}</td></tr></table>
<table class="explain"><tr><td class="td_warn explain_b"></td><td> = {trans 'Partial ping response'}</td></tr></table>
<table class="explain"><tr><td class="td_bad explain_b"></td><td> = {trans 'No ping response'}</td></tr></table>
<table class="explain"><tr><td><img src="{$v4_icon}" /></td><td> = {trans 'This nameserver has IPv4'}</td></tr></table>
<table class="explain"><tr><td><img src="{$v6_icon}" /></td><td> = {trans 'This nameserver has IPv6'}</td></tr></table>
<table class="domains">
	<thead><tr><th>{trans 'Domain'}</th><th>{trans 'Nameservers'}</th></tr></thead>
	<tbody>{foreach $domains as $d}
	<tr><td><a href="{url 'DNS42_Views_Domains::ver', $d.dominio}">{$d.dominio}</a></td>{assign $nss = $d->get_ns_list ()}
	<td class="ns_td"><table class="ns"><tr>
	{foreach $nss as $ns}{assign $server = $ns.get_server ()}
		<td class="td_{$server.estado_as_string ()}"><a href="{url 'DNS42_Views_Domains::ver_server', $server.nombre}">{$server.nombre}</a>{if $server.ipv4 != ''} <img src="{$v4_icon}" title="{$server.ipv4}" />{/if}{if $server.ipv6 != ''} <img src="{$v6_icon}" title="{$server.ipv6}" />{/if}</td>
	{/foreach}
	</tr></table></td>
	</tr>
	{/foreach}</tbody>
</table>
{/block}
{block extrahead}
<style type="text/css">
{literal}
.explain {
	border-collapse: collapse;
	border-spacing: 0;
	display: inline-table;
	margin-bottom: 15px;
	margin-left: 15px;
	margin-right: 15px;
}
.explain_b {
	padding: 8px;
	text-align: left;
	border: 1px solid #ddd;
}
.td_good {
	background-color: lightgreen;
}
.td_bad {
	background-color: lightpink;
}
.td_unknown {
	background-color: lightgray;
}
.td_warn {
	background-color: lightgoldenrodyellow;
}
.domains {
	border: 1px solid #ddd;
	border-collapse: collapse;
	border-spacing: 0;
}
.domains td, .domains th {
	padding: 8px;
	text-align: left;
	border: 1px solid #ddd;
}
td.ns_td {
	padding: 0px;
}
.ns {
	border-spacing: 0;
}
.ns td {
	border-left: 0px;
	border-top: 0px;
	border-bottom: 0px;
	border-right: 1px solid #ddd;
	border-collapse: collapse;
}
{/literal}
</style>
{/block}
